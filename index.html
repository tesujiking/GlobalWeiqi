<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="全球围棋超级联赛">
    <title>全球围棋超级联赛</title>
    <meta property="og:title" content="全球围棋超级联赛" />
    <meta property="og:description" content="全名参与，高手云集，新手友好，真正涨棋的全球围棋超级联赛" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.globalweiqi.com/index.html" />
    <meta property="og:image" content="https://www.globalweiqi.com/images/GlobalWeiqi.png" />
    
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* 自定义全局样式 */
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0f2f5; /* 参考chess.com的浅灰色背景 */
        }

        /* 导航栏激活状态的下划线效果 */
        .nav-link-desktop {
            position: relative;
            padding-bottom: 4px;
        }
        .nav-link-desktop::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            background-color: #e84134; /* 醒目的红色 */
            transition: all 0.3s ease-in-out;
        }
        .nav-link-desktop:hover::after, .nav-link-desktop.active::after {
            width: 100%;
            left: 0;
        }
        .nav-link-desktop.active {
            color: #1a2a4c;
        }
        
        /* 移动端菜单展开动画 */
        #mobile-menu {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
            transform: translateY(-10%);
            opacity: 0;
            pointer-events: none;
        }
        #mobile-menu.is-open {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
        }
        
        /* 汉堡菜单按钮的 'X' 形变动画 */
        .hamburger .bar {
            transition: all 0.3s ease-in-out;
        }
        .hamburger.is-open .bar:nth-child(1) {
            transform: translateY(8px) rotate(45deg);
        }
        .hamburger.is-open .bar:nth-child(2) {
            opacity: 0;
        }
        .hamburger.is-open .bar:nth-child(3) {
            transform: translateY(-8px) rotate(-45deg);
        }
    </style>
</head>

<body class="text-gray-800">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <a href="index.html" class="flex items-center space-x-3">
                        <img src="./images/GlobalWeiqi.png" alt="Global Weiqi Logo" class="h-10 w-auto">
                        <span class="text-xl font-bold tracking-tight hidden sm:block">全球围棋超级联赛</span>
                    </a>
                </div>

                <nav class="hidden md:block">
                    <ul class="flex items-baseline space-x-6">
                        <li><a href="standingsS2R4.html" target="content-frame" class="nav-link-desktop text-gray-600 hover:text-black">比赛信息</a></li>
                        <li><a href="regulations.html" target="content-frame" class="nav-link-desktop text-gray-600 hover:text-black">重要说明</a></li>
                        <li><a href="ratinghistory.html" target="content-frame" class="nav-link-desktop text-gray-600 hover:text-black">会员名录</a></li>
                        <li><a href="register.html" target="content-frame" class="nav-link-desktop text-red-600 font-bold hover:text-red-800 active">马上报名</a></li>
                        <li><a href="calculator.html" target="content-frame" class="nav-link-desktop text-gray-600 hover:text-black">计算器</a></li>
                    </ul>
                </nav>

                <div class="hidden md:block" id="nav-user-status-desktop">
                    <span class="text-sm text-gray-500">正在加载...</span>
                </div>

                <div class="md:hidden">
                    <button id="hamburger-button" class="hamburger p-2 rounded-md text-gray-600 hover:text-black hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-500">
                        <span class="sr-only">Open main menu</span>
                        <div class="bar h-0.5 w-6 bg-current"></div>
                        <div class="bar h-0.5 w-6 bg-current"></div>
                        <div class="bar h-0.5 w-6 bg-current"></div>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="md:hidden absolute top-16 left-0 w-full bg-white shadow-lg">
            <ul class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <li><a href="standingsS2R4.html" target="content-frame" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-black hover:bg-gray-50">比赛信息</a></li>
                <li><a href="regulations.html" target="content-frame" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-black hover:bg-gray-50">重要说明</a></li>
                <li><a href="ratinghistory.html" target="content-frame" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-black hover:bg-gray-50">会员名录</a></li>
                <li><a href="register.html" target="content-frame" class="block px-3 py-2 rounded-md text-base font-bold text-red-600 hover:text-red-800 hover:bg-red-50">马上报名</a></li>
                <li><a href="calculator.html" target="content-frame" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-black hover:bg-gray-50">计算器</a></li>
            </ul>
            <div class="border-t border-gray-200 px-5 py-4" id="nav-user-status-mobile">
                <span class="text-sm text-gray-500">正在加载...</span>
            </div>
        </div>
    </header>

    <main>
        <iframe src="home.html" name="content-frame" class="w-full border-0" style="height: calc(100vh - 64px);"></iframe>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- 汉堡菜单逻辑 ---
            const hamburgerButton = document.getElementById('hamburger-button');
            const mobileMenu = document.getElementById('mobile-menu');

            hamburgerButton.addEventListener('click', function() {
                // 切换菜单的显示/隐藏状态
                mobileMenu.classList.toggle('is-open');
                // 切换按钮的 'X' 形状
                hamburgerButton.classList.toggle('is-open');
            });

            // 点击移动菜单中的链接后，自动关闭菜单
            mobileMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.remove('is-open');
                    hamburgerButton.classList.remove('is-open');
                });
            });

            // --- 用户状态逻辑 (保持不变) ---
            const API_BASE_URL = 'https://yaoshen.pythonanywhere.com/api';
            const userStatusDesktop = document.getElementById('nav-user-status-desktop');
            const userStatusMobile = document.getElementById('nav-user-status-mobile');

            function checkLoginStatus() {
                // (您的登录检查逻辑无需修改，这里为了演示，使用模拟数据)
                setTimeout(() => { // 模拟网络延迟
                    const isLoggedIn = false; // 您可以改为 true 来测试登录后的效果
                    const user = { name: '棋圣', member_id: '1001' };
                    
                    let userHtml;
                    if (isLoggedIn) {
                        userHtml = `
                            <div class="flex items-center space-x-4">
                                <span class="text-sm font-medium text-gray-700">欢迎, ${user.name}</span>
                                <a href="#" id="logout-link" class="text-sm text-gray-500 hover:text-black">退出</a>
                            </div>
                        `;
                    } else {
                        userHtml = `
                            <div class="flex items-center space-x-4">
                                <a href="login.html" target="content-frame" class="text-sm font-medium text-gray-600 hover:text-black">登录</a>
                                <a href="zhuce.html" target="content-frame" class="px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700">注册</a>
                            </div>
                        `;
                    }
                    userStatusDesktop.innerHTML = userHtml;
                    userStatusMobile.innerHTML = userHtml;
                    
                    if(isLoggedIn && document.getElementById('logout-link')) {
                        document.getElementById('logout-link').addEventListener('click', () => alert('处理登出逻辑'));
                    }
                }, 500);
            }

            checkLoginStatus();
        });
    </script>

</body>
</html>
